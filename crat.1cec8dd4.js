let e="http://localhost:3000/students",t=null;async function n(){try{var t;let n,d=await fetch(e);if(!d.ok)throw Error("Помилка отримання студентів");let l=await d.json();l.sort((e,t)=>e.id-t.id),t=l,(n=document.querySelector("#students-table tbody")).innerHTML="",t.forEach((e,t)=>{let d=document.createElement("tr");d.innerHTML=`
      <td>${t+1}</td>
      <td>${e.name}</td>
      <td>${e.age}</td>
      <td>${e.course}</td>
      <td>${e.skills.join(", ")}</td>
      <td>${e.email}</td>
      <td>${e.isEnrolled?"Так":"Ні"}</td>
      <td>
        <button class="update-btn" data-id="${e.id}">\u{41E}\u{43D}\u{43E}\u{432}\u{438}\u{442}\u{438}</button>
        <button class="delete-btn" data-id="${e.id}">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
      </td>
    `,n.appendChild(d)}),document.querySelectorAll(".delete-btn").forEach(e=>{e.onclick=()=>o(e.dataset.id)}),document.querySelectorAll(".update-btn").forEach(e=>{e.onclick=()=>u(e.dataset.id)})}catch(e){console.error("Помилка:",e)}}async function d(t){try{if(!(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Не вдалося додати студента");await n()}catch(e){console.error("Помилка:",e)}}async function l(t,d){try{if(!(await fetch(`${e}/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw Error("Не вдалося оновити студента");await n()}catch(e){console.error("Помилка:",e)}}async function o(t){try{if(!(await fetch(`${e}/${t}`,{method:"DELETE"})).ok)throw Error("Не вдалося видалити студента");await n()}catch(e){console.error("Помилка:",e)}}let a=document.getElementById("modal");async function u(n){try{t=n;let d=await fetch(`${e}/${n}`);if(!d.ok)throw Error("Не вдалося отримати дані студента");let l=await d.json();document.getElementById("upd-name").value=l.name,document.getElementById("upd-age").value=l.age,document.getElementById("upd-course").value=l.course,document.getElementById("upd-skills").value=l.skills.join(", "),document.getElementById("upd-email").value=l.email,document.getElementById("upd-isEnrolled").checked=l.isEnrolled,a.style.display="block"}catch(e){console.error("Помилка:",e)}}document.getElementById("close-modal").onclick=()=>a.style.display="none",window.onclick=e=>{e.target===a&&(a.style.display="none")},document.getElementById("update-student-form").addEventListener("submit",async e=>{e.preventDefault();let n={name:document.getElementById("upd-name").value,age:Number(document.getElementById("upd-age").value),course:document.getElementById("upd-course").value,skills:document.getElementById("upd-skills").value.split(",").map(e=>e.trim()),email:document.getElementById("upd-email").value,isEnrolled:document.getElementById("upd-isEnrolled").checked};await l(t,n),a.style.display="none"}),document.getElementById("add-student-form").addEventListener("submit",async e=>{e.preventDefault();let t={name:document.getElementById("name").value,age:Number(document.getElementById("age").value),course:document.getElementById("course").value,skills:document.getElementById("skills").value.split(",").map(e=>e.trim()),email:document.getElementById("email").value,isEnrolled:document.getElementById("isEnrolled").checked};await d(t),e.target.reset()}),document.getElementById("get-students-btn").addEventListener("click",n);
//# sourceMappingURL=crat.1cec8dd4.js.map
